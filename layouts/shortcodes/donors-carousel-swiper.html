{{ $id := delimit (slice "donors-carousel" (now.UnixNano)) "-" }}

<div class="swiper-container px-2 sm:px-4 md:px-6 my-8" id="{{ $id }}">
  <div class="swiper-wrapper">
    {{ range .Site.Data.donors }}
      <div class="swiper-slide">
        <div class="flex flex-col items-center justify-center h-full bg-white rounded-xl shadow p-4">
          <div class="w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 flex items-center justify-center overflow-hidden mb-3 bg-white rounded-md">
            <img src="{{ .image | relURL }}" 
                 class="max-w-[60%] max-h-[60%] sm:max-w-[50%] sm:max-h-[50%] object-scale-down" 
                 alt="{{ .name }}"
                 loading="lazy">
          </div>
          <div class="text-center w-full px-2">
            <p class="text-base sm:text-lg md:text-xl font-bold text-gray-900 no-underline line-clamp-2 leading-tight">{{ .name }}</p>
          </div>
        </div>
      </div>
    {{ end }}
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var swiper = new Swiper('#{{ $id }}', {
      slidesPerView: 1,
      spaceBetween: 10,
      loop: true,
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      breakpoints: {
        // When window width is >= 480px
        480: {
          slidesPerView: 2,
          spaceBetween: 20
        },
        // When window width is >= 640px
        640: {
          slidesPerView: 3,
          spaceBetween: 30
        },
        // When window width is >= 1024px
        1024: {
          slidesPerView: 4,
          spaceBetween: 40
        }
      }
    });
  });
</script>
